% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_gact.R
\name{log_download}
\alias{log_download}
\title{Log downloaded files in the GACT database structure}
\usage{
log_download(GAlist, what, source, urls, dest_path, status, message = "")
}
\arguments{
\item{GAlist}{A GACT database list object, typically created by
\code{\link[=createDB]{createDB()}} and updated by \code{\link[=downloadDB]{downloadDB()}}.}

\item{what}{Character string indicating the dataset name
(e.g. \code{"ensembl"}, \code{"string"}, \code{"gstat"}).}

\item{source}{Character string describing the data source
(e.g. \code{"Zenodo"}, \code{"Ensembl FTP"}, \code{"DGIdb"}).}

\item{urls}{Character vector or semicolon-separated string of download URLs
or DOIs corresponding to the files being logged.}

\item{dest_path}{Character string giving the directory where the files are
downloaded.}

\item{status}{Character string describing the result of the download,
typically \code{"success"} or \code{"failed"}.}

\item{message}{Optional character string with additional information or
error message.}
}
\value{
The updated \code{GAlist} object with a data frame \code{GAlist$downloads}
containing one row per file and the following columns:
\itemize{
\item \code{what} — dataset identifier
\item \code{source} — data source
\item \code{url} — download URL or DOI
\item \code{dest_file} — destination file path
\item \code{file_size_MB} — file size in megabytes (if found)
\item \code{status} — \code{"success"} or \code{"failed"}
\item \code{message} — optional descriptive message
\item \code{date_downloaded} — timestamp of logging
}
}
\description{
Records one row per successfully downloaded (or failed) file in
\code{GAlist$downloads}. Each entry includes file metadata such as URL,
destination path, file size, and timestamp.
}
\details{
This function supports multiple URLs: if \code{urls} contains a semicolon-separated
string or a character vector of URLs, one entry is created for each file.
It appends new entries to any existing \code{GAlist$downloads} table.
}
\examples{
\dontrun{
GAlist <- list(dbdir = tempdir())
GAlist <- log_download(
  GAlist,
  what = "ensembl",
  source = "Ensembl FTP",
  urls = c("https://ftp.ensembl.org/pub/release-109/gtf/homo_sapiens/Homo_sapiens.GRCh38.109.gtf.gz"),
  dest_path = file.path(GAlist$dbdir, "ensembl"),
  status = "success",
  message = "Downloaded GTF successfully"
)
}

}
